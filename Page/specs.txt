modes:

0 - facing city
[
    # of cities looked at
    turns left
    core of city (binary)
    electoral city (binary)
    presence of enemy (binary)
    total owned cities
    total owned & cored cities
    total adjacent cities
    total owned adjacent cities
    number of mobile troops already there (/1000)
    number of garrison troops already there (/1000)
    number of enemy troops already there (/1000)
    total allied troops on map (/10000)
    number of recruitable troops (if applicable) (/1000)
    siege progress
] - > [5 middle, 5 multiplicative] -> [
    recruit/rebel
    move
    reorganize/breakout/storm the city
    reject (move to next city)
]

1 - move units
[
    # of move targets looked at
    turns left
    move target owned (binary)
    core of move target (binary)
    electoral city (binary)
    number of connections from that city
    total owned cities
    total owned & cored cities
    amount moving (/1000)
    existence of friendly garrison (/1000)
    existence of friendly field army (/1000)
    existence of enemy garrison (binary)
    existence of enemy field army (binary)
    total allied troops on map (/10000)
] - > [5 middle, 5 multiplicative] -> [
    move to
    reject
]

2 - reorganize
[
    turns left
    number of mobile troops (/1000)
    number of garrison troops (/1000)
    total allied troops on map (/10000)
] -> [
    one number: positive = 100 men from garrison to field
    negative: the opposite
    after this leaves
]

3 - pick defender strategy 1
[
    turns left
    core of city (binary)
    total owned cities
    number of friendly troops
    number of enemy troops
] -> [
    battle
    siege
]

4 - pick attacker strategy
[
    turns left
    core of city (binary)
    total owned cities
    number of friendly troops
    number of enemy troops
] -> [
    storm
    siege
]

5 - pick defender strategy 2
[
    turns left
    core of city (binary)
    total owned cities
    number of friendly troops
    number of enemy troops
] -> [
    retreat
    siege
]

6 - pick retreat target
[
    # of move targets looked at
    turns left
    move target owned (binary)
    core of move target (binary)
    electoral city (binary)
    number of connections from that city
    visibility
    amount moving
    existence of friendly garrison (/1000)
    existence of friendly field army (/1000)
    existence of enemy garrison (binary)
    existence of enemy field army (binary)
    total allied troops on map (/10000)
] - > [5 middle, 5 multiplicative] -> [
    move to
    reject
]